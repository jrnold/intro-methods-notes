<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Analysis Notes</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="<p>These are notes associated with the course, POLS/CS&amp;SS 503: Advanced Quantitative Political Methodology at the University of Washington.</p>">
  <meta name="generator" content="bookdown 0.3.6 and GitBook 2.6.7">

  <meta property="og:title" content="Data Analysis Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="<p>These are notes associated with the course, POLS/CS&amp;SS 503: Advanced Quantitative Political Methodology at the University of Washington.</p>" />
  <meta name="github-repo" content="jrnold/intro-methods-notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Analysis Notes" />
  
  <meta name="twitter:description" content="<p>These are notes associated with the course, POLS/CS&amp;SS 503: Advanced Quantitative Political Methodology at the University of Washington.</p>" />
  

<meta name="author" content="Jeffrey B. Arnold">


<meta name="date" content="2017-04-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="duncan-occupational-prestige.html">
<link rel="next" href="reproducible-research.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<link href="libs/plotlyjs-1.16.3/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotlyjs-1.16.3/plotly-latest.min.js"></script>
<script src="libs/plotly-binding-4.5.6/plotly.js"></script>



<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro Method Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="part"><span><b>I Exploratory Data Analysis</b></span></li>
<li class="part"><span><b>II Probability</b></span></li>
<li class="part"><span><b>III Inference</b></span></li>
<li class="part"><span><b>IV Linear Regresssion</b></span></li>
<li class="chapter" data-level="2" data-path="bivariate-ols.html"><a href="bivariate-ols.html"><i class="fa fa-check"></i><b>2</b> Bivariate OLS</a><ul>
<li class="chapter" data-level="2.0.1" data-path="bivariate-ols.html"><a href="bivariate-ols.html#ols-is-the-weighted-sum-of-outcomes"><i class="fa fa-check"></i><b>2.0.1</b> OLS is the weighted sum of outcomes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="goodness-of-fit.html"><a href="goodness-of-fit.html"><i class="fa fa-check"></i><b>3</b> Goodness of Fit</a><ul>
<li class="chapter" data-level="3.1" data-path="goodness-of-fit.html"><a href="goodness-of-fit.html#root-mean-squared-error-and-standard-error"><i class="fa fa-check"></i><b>3.1</b> Root Mean Squared Error and Standard Error</a></li>
<li class="chapter" data-level="3.2" data-path="goodness-of-fit.html"><a href="goodness-of-fit.html#r-squared"><i class="fa fa-check"></i><b>3.2</b> R squared</a></li>
<li class="chapter" data-level="3.3" data-path="goodness-of-fit.html"><a href="goodness-of-fit.html#maximum-likelihood"><i class="fa fa-check"></i><b>3.3</b> Maximum Likelihood</a></li>
<li class="chapter" data-level="3.4" data-path="goodness-of-fit.html"><a href="goodness-of-fit.html#regression-line"><i class="fa fa-check"></i><b>3.4</b> Regression Line</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="multiple-regression.html"><a href="multiple-regression.html"><i class="fa fa-check"></i><b>4</b> Multiple Regression</a></li>
<li class="chapter" data-level="5" data-path="what-is-regression.html"><a href="what-is-regression.html"><i class="fa fa-check"></i><b>5</b> What is Regression?</a><ul>
<li class="chapter" data-level="5.1" data-path="what-is-regression.html"><a href="what-is-regression.html#what-is-regression-and-what-is-it-used-for"><i class="fa fa-check"></i><b>5.1</b> What is Regression and What is it Used For ?</a></li>
<li class="chapter" data-level="5.2" data-path="what-is-regression.html"><a href="what-is-regression.html#joint-vs.conditional-models"><i class="fa fa-check"></i><b>5.2</b> Joint vs. Conditional models</a></li>
<li class="chapter" data-level="5.3" data-path="what-is-regression.html"><a href="what-is-regression.html#conditional-expectation-function"><i class="fa fa-check"></i><b>5.3</b> Conditional expectation function</a><ul>
<li class="chapter" data-level="5.3.1" data-path="what-is-regression.html"><a href="what-is-regression.html#discrete-covariates"><i class="fa fa-check"></i><b>5.3.1</b> Discrete Covariates</a></li>
<li class="chapter" data-level="5.3.2" data-path="what-is-regression.html"><a href="what-is-regression.html#continuous-covariates"><i class="fa fa-check"></i><b>5.3.2</b> Continuous Covariates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interpreting-coefficients.html"><a href="interpreting-coefficients.html"><i class="fa fa-check"></i><b>6</b> Interpreting Coefficients</a><ul>
<li class="chapter" data-level="6.1" data-path="interpreting-coefficients.html"><a href="interpreting-coefficients.html#interactions-and-polynomials"><i class="fa fa-check"></i><b>6.1</b> Interactions and Polynomials</a></li>
<li class="chapter" data-level="6.2" data-path="interpreting-coefficients.html"><a href="interpreting-coefficients.html#average-marginal-effects"><i class="fa fa-check"></i><b>6.2</b> Average Marginal Effects</a></li>
<li class="chapter" data-level="6.3" data-path="interpreting-coefficients.html"><a href="interpreting-coefficients.html#standardized-coefficients"><i class="fa fa-check"></i><b>6.3</b> Standardized Coefficients</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="regression-inference.html"><a href="regression-inference.html"><i class="fa fa-check"></i><b>7</b> Regression Inference</a><ul>
<li class="chapter" data-level="7.1" data-path="regression-inference.html"><a href="regression-inference.html#prerequisites"><i class="fa fa-check"></i><b>7.1</b> Prerequisites</a></li>
<li class="chapter" data-level="7.2" data-path="regression-inference.html"><a href="regression-inference.html#sampling-distribution-and-standard-errors-of-coefficients"><i class="fa fa-check"></i><b>7.2</b> Sampling Distribution and Standard Errors of Coefficients</a></li>
<li class="chapter" data-level="7.3" data-path="regression-inference.html"><a href="regression-inference.html#single-coefficient"><i class="fa fa-check"></i><b>7.3</b> Single Coefficient</a><ul>
<li class="chapter" data-level="7.3.1" data-path="regression-inference.html"><a href="regression-inference.html#confidence-intervals"><i class="fa fa-check"></i><b>7.3.1</b> Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="regression-inference.html"><a href="regression-inference.html#multiple-coefficients"><i class="fa fa-check"></i><b>7.4</b> Multiple Coefficients</a><ul>
<li class="chapter" data-level="7.4.1" data-path="regression-inference.html"><a href="regression-inference.html#f-test"><i class="fa fa-check"></i><b>7.4.1</b> F-test</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="regression-inference.html"><a href="regression-inference.html#confidence-ellipses"><i class="fa fa-check"></i><b>7.5</b> Confidence Ellipses</a></li>
<li class="chapter" data-level="7.6" data-path="regression-inference.html"><a href="regression-inference.html#linear-hypothesis-tests"><i class="fa fa-check"></i><b>7.6</b> Linear Hypothesis Tests</a></li>
<li class="chapter" data-level="7.7" data-path="regression-inference.html"><a href="regression-inference.html#non-linear-hypothesis-coefficients"><i class="fa fa-check"></i><b>7.7</b> Non-Linear Hypothesis Coefficients</a></li>
<li class="chapter" data-level="7.8" data-path="regression-inference.html"><a href="regression-inference.html#confidence-intervals-for-linear-and-non-linear-functions-of-coefficients"><i class="fa fa-check"></i><b>7.8</b> Confidence Intervals for Linear and Non-linear functions of Coefficients</a></li>
<li class="chapter" data-level="7.9" data-path="regression-inference.html"><a href="regression-inference.html#multiple-testing"><i class="fa fa-check"></i><b>7.9</b> Multiple Testing</a></li>
<li class="chapter" data-level="7.10" data-path="regression-inference.html"><a href="regression-inference.html#data-snooping"><i class="fa fa-check"></i><b>7.10</b> Data snooping</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="omitted-variable-bias.html"><a href="omitted-variable-bias.html"><i class="fa fa-check"></i><b>8</b> Omitted Variable Bias</a><ul>
<li class="chapter" data-level="8.1" data-path="omitted-variable-bias.html"><a href="omitted-variable-bias.html#prerequisites-1"><i class="fa fa-check"></i><b>8.1</b> Prerequisites</a></li>
<li class="chapter" data-level="8.2" data-path="omitted-variable-bias.html"><a href="omitted-variable-bias.html#simpsons-paradox"><i class="fa fa-check"></i><b>8.2</b> Simpson’s Paradox</a></li>
<li class="chapter" data-level="8.3" data-path="omitted-variable-bias.html"><a href="omitted-variable-bias.html#omitted-variable-bias-1"><i class="fa fa-check"></i><b>8.3</b> Omitted Variable Bias</a></li>
<li class="chapter" data-level="8.4" data-path="omitted-variable-bias.html"><a href="omitted-variable-bias.html#measurement-error"><i class="fa fa-check"></i><b>8.4</b> Measurement Error</a><ul>
<li class="chapter" data-level="8.4.1" data-path="omitted-variable-bias.html"><a href="omitted-variable-bias.html#whats-the-problem"><i class="fa fa-check"></i><b>8.4.1</b> What’s the problem?</a></li>
<li class="chapter" data-level="8.4.2" data-path="omitted-variable-bias.html"><a href="omitted-variable-bias.html#what-to-do-about-it"><i class="fa fa-check"></i><b>8.4.2</b> What to do about it?</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="omitted-variable-bias.html"><a href="omitted-variable-bias.html#more-information"><i class="fa fa-check"></i><b>8.5</b> More Information</a><ul>
<li class="chapter" data-level="8.5.1" data-path="omitted-variable-bias.html"><a href="omitted-variable-bias.html#simpsons-paradox-1"><i class="fa fa-check"></i><b>8.5.1</b> Simpson’s Paradox</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="outliers.html"><a href="outliers.html"><i class="fa fa-check"></i><b>9</b> Outliers</a></li>
<li class="chapter" data-level="10" data-path="problems-with-errors.html"><a href="problems-with-errors.html"><i class="fa fa-check"></i><b>10</b> Problems with Errors</a><ul>
<li class="chapter" data-level="10.1" data-path="problems-with-errors.html"><a href="problems-with-errors.html#prerequisites-2"><i class="fa fa-check"></i><b>10.1</b> Prerequisites</a></li>
<li class="chapter" data-level="10.2" data-path="problems-with-errors.html"><a href="problems-with-errors.html#heteroskedasticity"><i class="fa fa-check"></i><b>10.2</b> Heteroskedasticity</a><ul>
<li class="chapter" data-level="10.2.1" data-path="problems-with-errors.html"><a href="problems-with-errors.html#example-duncans-occupation-data"><i class="fa fa-check"></i><b>10.2.1</b> Example: Duncan’s Occupation Data</a></li>
<li class="chapter" data-level="10.2.2" data-path="problems-with-errors.html"><a href="problems-with-errors.html#notes"><i class="fa fa-check"></i><b>10.2.2</b> Notes</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="problems-with-errors.html"><a href="problems-with-errors.html#correlated-errors"><i class="fa fa-check"></i><b>10.3</b> Correlated Errors</a></li>
<li class="chapter" data-level="10.4" data-path="problems-with-errors.html"><a href="problems-with-errors.html#non-normal-errors"><i class="fa fa-check"></i><b>10.4</b> Non-normal Errors</a></li>
<li class="chapter" data-level="10.5" data-path="problems-with-errors.html"><a href="problems-with-errors.html#bootstrapping"><i class="fa fa-check"></i><b>10.5</b> Bootstrapping</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="weighted-regression.html"><a href="weighted-regression.html"><i class="fa fa-check"></i><b>11</b> Weighted Regression</a><ul>
<li class="chapter" data-level="11.1" data-path="weighted-regression.html"><a href="weighted-regression.html#weighted-least-squares-wls"><i class="fa fa-check"></i><b>11.1</b> Weighted Least Squares (WLS)</a></li>
<li class="chapter" data-level="11.2" data-path="weighted-regression.html"><a href="weighted-regression.html#when-should-you-use-wls"><i class="fa fa-check"></i><b>11.2</b> When should you use WLS?</a></li>
<li class="chapter" data-level="11.3" data-path="weighted-regression.html"><a href="weighted-regression.html#correcting-for-known-heteroskedasticity"><i class="fa fa-check"></i><b>11.3</b> Correcting for Known Heteroskedasticity</a></li>
<li class="chapter" data-level="11.4" data-path="weighted-regression.html"><a href="weighted-regression.html#sampling-weights"><i class="fa fa-check"></i><b>11.4</b> Sampling Weights</a></li>
<li class="chapter" data-level="11.5" data-path="weighted-regression.html"><a href="weighted-regression.html#references"><i class="fa fa-check"></i><b>11.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="discrete-outcome-variables.html"><a href="discrete-outcome-variables.html"><i class="fa fa-check"></i><b>12</b> Discrete Outcome Variables</a><ul>
<li class="chapter" data-level="12.1" data-path="discrete-outcome-variables.html"><a href="discrete-outcome-variables.html#linear-probability-model"><i class="fa fa-check"></i><b>12.1</b> Linear Probability Model</a></li>
<li class="chapter" data-level="12.2" data-path="discrete-outcome-variables.html"><a href="discrete-outcome-variables.html#logit-model"><i class="fa fa-check"></i><b>12.2</b> Logit Model</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="robust-regression.html"><a href="robust-regression.html"><i class="fa fa-check"></i><b>13</b> Robust Regression</a><ul>
<li class="chapter" data-level="13.1" data-path="robust-regression.html"><a href="robust-regression.html#prerequites"><i class="fa fa-check"></i><b>13.1</b> Prerequites</a></li>
<li class="chapter" data-level="13.2" data-path="robust-regression.html"><a href="robust-regression.html#examples"><i class="fa fa-check"></i><b>13.2</b> Examples</a></li>
<li class="chapter" data-level="13.3" data-path="robust-regression.html"><a href="robust-regression.html#notes-1"><i class="fa fa-check"></i><b>13.3</b> Notes</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html"><i class="fa fa-check"></i><b>14</b> Prediction and Model Comparison</a><ul>
<li class="chapter" data-level="14.1" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#prerequisites-3"><i class="fa fa-check"></i><b>14.1</b> Prerequisites</a></li>
<li class="chapter" data-level="14.2" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#measures-of-prediction"><i class="fa fa-check"></i><b>14.2</b> Measures of Prediction</a></li>
<li class="chapter" data-level="14.3" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#model-comparison"><i class="fa fa-check"></i><b>14.3</b> Model Comparison</a></li>
<li class="chapter" data-level="14.4" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#example-predicting-the-price-of-wine"><i class="fa fa-check"></i><b>14.4</b> Example: Predicting the Price of Wine</a></li>
<li class="chapter" data-level="14.5" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#cross-validation"><i class="fa fa-check"></i><b>14.5</b> Cross-Validation</a></li>
<li class="chapter" data-level="14.6" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#out-of-sample-error"><i class="fa fa-check"></i><b>14.6</b> Out of Sample Error</a><ul>
<li class="chapter" data-level="14.6.1" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#held-out-data"><i class="fa fa-check"></i><b>14.6.1</b> Held-out data</a></li>
<li class="chapter" data-level="14.6.2" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#leave-one-out-cross-validation"><i class="fa fa-check"></i><b>14.6.2</b> Leave-One-Out Cross-Validation</a></li>
<li class="chapter" data-level="14.6.3" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#k-fold-cross-validation"><i class="fa fa-check"></i><b>14.6.3</b> k-fold Cross-validation</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#analytic-covariance-methods"><i class="fa fa-check"></i><b>14.7</b> Analytic Covariance Methods</a></li>
<li class="chapter" data-level="14.8" data-path="prediction-and-model-comparison.html"><a href="prediction-and-model-comparison.html#further-resources"><i class="fa fa-check"></i><b>14.8</b> Further Resources</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="miscellaneous-regression-stuff.html"><a href="miscellaneous-regression-stuff.html"><i class="fa fa-check"></i><b>15</b> Miscellaneous Regression Stuff</a><ul>
<li class="chapter" data-level="15.1" data-path="miscellaneous-regression-stuff.html"><a href="miscellaneous-regression-stuff.html#anscombe-quartet"><i class="fa fa-check"></i><b>15.1</b> Anscombe quartet</a></li>
<li class="chapter" data-level="15.2" data-path="miscellaneous-regression-stuff.html"><a href="miscellaneous-regression-stuff.html#correlation-plots"><i class="fa fa-check"></i><b>15.2</b> Correlation Plots</a></li>
</ul></li>
<li class="part"><span><b>V Programming</b></span></li>
<li class="chapter" data-level="16" data-path="rs-forumula-syntax.html"><a href="rs-forumula-syntax.html"><i class="fa fa-check"></i><b>16</b> R’s Forumula Syntax</a><ul>
<li class="chapter" data-level="16.1" data-path="rs-forumula-syntax.html"><a href="rs-forumula-syntax.html#setup"><i class="fa fa-check"></i><b>16.1</b> Setup</a></li>
<li class="chapter" data-level="16.2" data-path="rs-forumula-syntax.html"><a href="rs-forumula-syntax.html#introduction-to-formula-objects"><i class="fa fa-check"></i><b>16.2</b> Introduction to Formula Objects</a></li>
<li class="chapter" data-level="16.3" data-path="rs-forumula-syntax.html"><a href="rs-forumula-syntax.html#programming-with-formulas"><i class="fa fa-check"></i><b>16.3</b> Programming with Formulas</a></li>
</ul></li>
<li class="part"><span><b>VI Examples</b></span></li>
<li class="chapter" data-level="17" data-path="duncan-occupational-prestige.html"><a href="duncan-occupational-prestige.html"><i class="fa fa-check"></i><b>17</b> Duncan Occupational Prestige</a><ul>
<li class="chapter" data-level="17.1" data-path="duncan-occupational-prestige.html"><a href="duncan-occupational-prestige.html#setup-1"><i class="fa fa-check"></i><b>17.1</b> Setup</a></li>
<li class="chapter" data-level="17.2" data-path="duncan-occupational-prestige.html"><a href="duncan-occupational-prestige.html#coefficients-standard-errors"><i class="fa fa-check"></i><b>17.2</b> Coefficients, Standard errors</a></li>
<li class="chapter" data-level="17.3" data-path="duncan-occupational-prestige.html"><a href="duncan-occupational-prestige.html#residuals-fitted-values"><i class="fa fa-check"></i><b>17.3</b> Residuals, Fitted Values,</a></li>
<li class="chapter" data-level="17.4" data-path="duncan-occupational-prestige.html"><a href="duncan-occupational-prestige.html#broom"><i class="fa fa-check"></i><b>17.4</b> Broom</a></li>
<li class="chapter" data-level="17.5" data-path="duncan-occupational-prestige.html"><a href="duncan-occupational-prestige.html#plotting-fitted-regression-results"><i class="fa fa-check"></i><b>17.5</b> Plotting Fitted Regression Results</a></li>
</ul></li>
<li class="part"><span><b>VII Presentation</b></span></li>
<li class="chapter" data-level="18" data-path="formatting-tables.html"><a href="formatting-tables.html"><i class="fa fa-check"></i><b>18</b> Formatting Tables</a><ul>
<li class="chapter" data-level="18.1" data-path="formatting-tables.html"><a href="formatting-tables.html#overview-of-packages"><i class="fa fa-check"></i><b>18.1</b> Overview of Packages</a></li>
<li class="chapter" data-level="18.2" data-path="formatting-tables.html"><a href="formatting-tables.html#summary-statistic-table-example"><i class="fa fa-check"></i><b>18.2</b> Summary Statistic Table Example</a></li>
<li class="chapter" data-level="18.3" data-path="formatting-tables.html"><a href="formatting-tables.html#regression-table-example"><i class="fa fa-check"></i><b>18.3</b> Regression Table Example</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="reproducible-research.html"><a href="reproducible-research.html"><i class="fa fa-check"></i><b>19</b> Reproducible Research</a></li>
<li class="chapter" data-level="20" data-path="writing-resources.html"><a href="writing-resources.html"><i class="fa fa-check"></i><b>20</b> Writing Resources</a><ul>
<li class="chapter" data-level="20.1" data-path="writing-resources.html"><a href="writing-resources.html#writing-and-organizing-papers"><i class="fa fa-check"></i><b>20.1</b> Writing and Organizing Papers</a></li>
<li class="chapter" data-level="20.2" data-path="writing-resources.html"><a href="writing-resources.html#finding-research-ideas"><i class="fa fa-check"></i><b>20.2</b> Finding Research Ideas</a></li>
<li class="chapter" data-level="20.3" data-path="writing-resources.html"><a href="writing-resources.html#replications"><i class="fa fa-check"></i><b>20.3</b> Replications</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="multivariate-normal-distribution.html"><a href="multivariate-normal-distribution.html"><i class="fa fa-check"></i><b>A</b> Multivariate Normal Distribution</a></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
\[
\DeclareMathOperator{\E}{E}
\DeclareMathOperator{\mean}{mean}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\Cor}{Cor}
\DeclareMathOperator{\Bias}{Bias}
\DeclareMathOperator{\MSE}{MSE}
\DeclareMathOperator{\RMSE}{RMSE}
\DeclareMathOperator{\sd}{sd}
\DeclareMathOperator{\se}{se}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

\newcommand{\mat}[1]{\boldsymbol{#1}}
\newcommand{\vec}[1]{\boldsymbol{#1}}
\newcommand{\T}{'}

\newcommand{\distr}[1]{\mathcal{#1}}
\newcommand{\dnorm}{\distr{N}}
\newcommand{\dmvnorm}[1]{\distr{N}_{#1}}
\newcommand{\dt}[1]{\distr{T}_{#1}}

\newcommand{\cia}{\perp\!\!\!\perp}
\DeclareMathOperator*{\plim}{plim}
\]
<div id="formatting-tables" class="section level1">
<h1><span class="header-section-number">Chapter 18</span> Formatting Tables</h1>
<div id="overview-of-packages" class="section level2">
<h2><span class="header-section-number">18.1</span> Overview of Packages</h2>
<p>R has multiple packages and functions for directly producing formatted tables for LaTeX, HTML, and other output formats. Given the</p>
<p>See the <a href="https://cran.r-project.org/web/views/ReproducibleResearch.html">Reproducible Research Task View</a> for an overview of various options.</p>
<ul>
<li><strong><a href="https://cran.r-project.org/package=xtable">xtable</a></strong> is a general purpose package for creating LaTeX, HTML, or plain text tables in R.</li>
<li><strong><a href="https://cran.r-project.org/package=texreg">texreg</a></strong> is more specifically geared to regression tables. It also outputs results in LaTeX (<a href="https://www.rdocumentation.org/packages/texreg/topics/texreg">texreg</a>), HTML (<a href="https://www.rdocumentation.org/packages/texreg/topics/htmlreg">texreg</a>), and plain text.</li>
</ul>
<p>The packages <strong><a href="https://cran.r-project.org/package=stargazer">stargazer</a></strong> and <strong><a href="https://cran.r-project.org/package=apsrtable">apsrtable</a></strong> are other popular packages for formatting regression output. However, they are less-well maintained and have less functionality than <strong>texreg</strong>. For example, <strong>apsrtable</strong> hasn’t been updated since 2012, <strong>stargazer</strong> since 2015.</p>
<p>The <a href="https://cran.r-project.org/web/packages/texreg/vignettes/texreg.pdf">texreg vignette</a> is a good introduction to <strong>texreg</strong>, and also discusses the These <a href="http://conjugateprior.org/2013/10/call-them-what-you-will/">blog</a> <a href="http://conjugateprior.org/2013/03/r-to-latex-packages-coverage/">posts</a> by Will Lowe cover many of the options.</p>
<p>Additionally, for simple tables, <strong><a href="https://cran.r-project.org/package=knitr">knitr</a></strong>, the package which provides the heavy lifting for R markdown, has a function <a href="https://www.rdocumentation.org/packages/knitr/topics/kable">knitr</a>. <strong>knitr</strong> also has the ability to customize how R objects are printed with the <a href="https://cran.rstudio.com/web/packages/knitr/vignettes/knit_print.html">knit_print</a> function.</p>
<p>Other notable packages are:</p>
<ul>
<li><strong><a href="https://cran.r-project.org/package=pander">pander</a></strong> creates output in markdown for export to other formats.</li>
<li><strong><a href="https://cran.r-project.org/package=tables">tables</a></strong> uses a formula syntax to define tables</li>
<li><strong><a href="https://cran.r-project.org/package=ReportR">ReportR</a></strong> has the most complete support for creating Word documents, but is likely too much.</li>
</ul>
<p>For a political science perspective on why automating the research process is important see:</p>
<ul>
<li>Nicholas Eubank <a href="https://thepoliticalmethodologist.com/2016/06/06/embrace-your-fallibility-thoughts-on-code-integrity/">Embrace Your Fallibility: Thoughts on Code Integrity</a>, based on this <a href="https://doi.org/10.1017/S1049096516000196">article</a></li>
<li>Matthew Gentzkow Jesse M. Shapiro.<a href="http://web.stanford.edu/~gentzkow/research/CodeAndData.pdf">Code and Data for the Social Sciences: A Practitioner’s Guide</a>. March 10, 2014.</li>
<li>Political Methodologist issue on <a href="http://www.jakebowers.org/PAPERS/tpm_v18_n2.pdf">Workflow Management</a></li>
</ul>
</div>
<div id="summary-statistic-table-example" class="section level2">
<h2><span class="header-section-number">18.2</span> Summary Statistic Table Example</h2>
<p>The <code>xtable</code> package has methods to convert many types of R objects to tables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;gapminder&quot;</span>)

gapminder_summary &lt;-
<span class="st">  </span>gapminder <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># Keep numeric variables</span>
<span class="st">  </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># gather variables</span>
<span class="st">  </span><span class="kw">gather</span>(variable, value) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># Summarize by variable</span>
<span class="st">  </span><span class="kw">group_by</span>(variable) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># summarise all columns</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">sum</span>(<span class="op">!</span><span class="kw">is.na</span>(value)),
            <span class="st">`</span><span class="dt">Mean</span><span class="st">`</span> =<span class="st"> </span><span class="kw">mean</span>(value),
            <span class="st">`</span><span class="dt">Std. Dev.</span><span class="st">`</span> =<span class="st"> </span><span class="kw">sd</span>(value),
            <span class="st">`</span><span class="dt">Median</span><span class="st">`</span> =<span class="st"> </span><span class="kw">median</span>(value),
            <span class="st">`</span><span class="dt">Min.</span><span class="st">`</span> =<span class="st"> </span><span class="kw">min</span>(value),
            <span class="st">`</span><span class="dt">Max.</span><span class="st">`</span> =<span class="st"> </span><span class="kw">max</span>(value))
gapminder_summary</code></pre></div>
<pre><code>## # A tibble: 4 × 7
##    variable     n         Mean  `Std. Dev.`       Median       Min.
##       &lt;chr&gt; &lt;int&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
## 1 gdpPercap  1704 7.215327e+03 9.857455e+03    3531.8470   241.1659
## 2   lifeExp  1704 5.947444e+01 1.291711e+01      60.7125    23.5990
## 3       pop  1704 2.960121e+07 1.061579e+08 7023595.5000 60011.0000
## 4      year  1704 1.979500e+03 1.726533e+01    1979.5000  1952.0000
## # ... with 1 more variables: Max. &lt;dbl&gt;</code></pre>
<p>Now that we have a data frame with the table we want, use <code>xtable</code> to create it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;xtable&quot;</span>)
foo &lt;-<span class="st"> </span><span class="kw">xtable</span>(gapminder_summary, <span class="dt">digits =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">print</span>(<span class="dt">type =</span> <span class="st">&quot;html&quot;</span>,
        <span class="dt">html.table.attributes =</span> <span class="st">&quot;&quot;</span>,
        <span class="dt">include.rownames =</span> <span class="ot">FALSE</span>,
        <span class="dt">format.args =</span> <span class="kw">list</span>(<span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>))</code></pre></div>
<!-- html table generated in R 3.3.3 by xtable 1.8-2 package -->
<!-- Fri Apr 14 19:34:10 2017 -->
<table>
<tr>
<th>
variable
</th>
<th>
n
</th>
<th>
Mean
</th>
<th>
Std. Dev.
</th>
<th>
Median
</th>
<th>
Min.
</th>
<th>
Max.
</th>
</tr>
<tr>
<td>
gdpPercap
</td>
<td align="right">
1,704
</td>
<td align="right">
7,215
</td>
<td align="right">
9,857
</td>
<td align="right">
3,532
</td>
<td align="right">
241
</td>
<td align="right">
113,523
</td>
</tr>
<tr>
<td>
lifeExp
</td>
<td align="right">
1,704
</td>
<td align="right">
59
</td>
<td align="right">
13
</td>
<td align="right">
61
</td>
<td align="right">
24
</td>
<td align="right">
83
</td>
</tr>
<tr>
<td>
pop
</td>
<td align="right">
1,704
</td>
<td align="right">
29,601,212
</td>
<td align="right">
106,157,897
</td>
<td align="right">
7,023,596
</td>
<td align="right">
60,011
</td>
<td align="right">
1,318,683,096
</td>
</tr>
<tr>
<td>
year
</td>
<td align="right">
1,704
</td>
<td align="right">
1,980
</td>
<td align="right">
17
</td>
<td align="right">
1,980
</td>
<td align="right">
1,952
</td>
<td align="right">
2,007
</td>
</tr>
</table>
<p>Note that there we two functions to get HTML. The function <code>xtable</code> creates an <code>xtable</code> R object, and the function <a href="https://www.rdocumentation.org/packages/xtable/topics/print.xtable">xtable</a> (called as <code>print()</code>), which prints the <code>xtable</code> object as HTML (or LaTeX). The default HTML does not look nice, and would need to be formatted with CSS. If you are copy and pasting it into Word, you would do some post-processing cleanup anyways.</p>
<p>Another alternative is the <a href="https://www.rdocumentation.org/packages/knitr/topics/kable">knitr</a> function in the <strong><a href="https://cran.r-project.org/package=knitr">knitr</a></strong> package, which outputs R markdown tables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(gapminder_summary)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="right">n</th>
<th align="right">Mean</th>
<th align="right">Std. Dev.</th>
<th align="right">Median</th>
<th align="right">Min.</th>
<th align="right">Max.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">gdpPercap</td>
<td align="right">1704</td>
<td align="right">7.215327e+03</td>
<td align="right">9.857455e+03</td>
<td align="right">3531.8470</td>
<td align="right">241.1659</td>
<td align="right">1.135231e+05</td>
</tr>
<tr class="even">
<td align="left">lifeExp</td>
<td align="right">1704</td>
<td align="right">5.947444e+01</td>
<td align="right">1.291711e+01</td>
<td align="right">60.7125</td>
<td align="right">23.5990</td>
<td align="right">8.260300e+01</td>
</tr>
<tr class="odd">
<td align="left">pop</td>
<td align="right">1704</td>
<td align="right">2.960121e+07</td>
<td align="right">1.061579e+08</td>
<td align="right">7023595.5000</td>
<td align="right">60011.0000</td>
<td align="right">1.318683e+09</td>
</tr>
<tr class="even">
<td align="left">year</td>
<td align="right">1704</td>
<td align="right">1.979500e+03</td>
<td align="right">1.726533e+01</td>
<td align="right">1979.5000</td>
<td align="right">1952.0000</td>
<td align="right">2.007000e+03</td>
</tr>
</tbody>
</table>
<p>This is useful for producing quick tables.</p>
<p>Finally, <a href="https://cran.r-project.org/web/packages/htmlTable/vignettes/tables.html">htmlTables</a> package unsurprisingly produces HTML tables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;htmlTable&quot;</span>)
<span class="kw">htmlTable</span>(<span class="kw">txtRound</span>(gapminder_summary, <span class="dv">0</span>),
          <span class="dt">align =</span> <span class="st">&quot;lrrrr&quot;</span>)</code></pre></div>
<p><table class='gmisc_table' style='border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;' >
<thead>
<tr>
<th style='border-bottom: 1px solid grey; border-top: 2px solid grey;'> </th>
<th style='border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;'>variable</th>
<th style='border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;'>n</th>
<th style='border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;'>Mean</th>
<th style='border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;'>Std. Dev.</th>
<th style='border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;'>Median</th>
<th style='border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;'>Min.</th>
<th style='border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;'>Max.</th>
</tr>
</thead>
<tbody>
<tr>
<td style='text-align: left;'>1</td>
<td style='text-align: left;'>gdpPercap</td>
<td style='text-align: right;'>1704</td>
<td style='text-align: right;'>7</td>
<td style='text-align: right;'>10</td>
<td style='text-align: right;'>3532</td>
<td style='text-align: right;'>241</td>
<td style='text-align: right;'>1</td>
</tr>
<tr>
<td style='text-align: left;'>2</td>
<td style='text-align: left;'>lifeExp</td>
<td style='text-align: right;'>1704</td>
<td style='text-align: right;'>6</td>
<td style='text-align: right;'>1</td>
<td style='text-align: right;'>61</td>
<td style='text-align: right;'>24</td>
<td style='text-align: right;'>8</td>
</tr>
<tr>
<td style='text-align: left;'>3</td>
<td style='text-align: left;'>pop</td>
<td style='text-align: right;'>1704</td>
<td style='text-align: right;'>3</td>
<td style='text-align: right;'>1</td>
<td style='text-align: right;'>7023596</td>
<td style='text-align: right;'>60011</td>
<td style='text-align: right;'>1</td>
</tr>
<tr>
<td style='border-bottom: 2px solid grey; text-align: left;'>4</td>
<td style='border-bottom: 2px solid grey; text-align: left;'>year</td>
<td style='border-bottom: 2px solid grey; text-align: right;'>1704</td>
<td style='border-bottom: 2px solid grey; text-align: right;'>2</td>
<td style='border-bottom: 2px solid grey; text-align: right;'>2</td>
<td style='border-bottom: 2px solid grey; text-align: right;'>1980</td>
<td style='border-bottom: 2px solid grey; text-align: right;'>1952</td>
<td style='border-bottom: 2px solid grey; text-align: right;'>2</td>
</tr>
</tbody>
</table> It has more features for producing HTML tables than <code>xtable</code>, but does not output LaTeX.</p>
</div>
<div id="regression-table-example" class="section level2">
<h2><span class="header-section-number">18.3</span> Regression Table Example</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;texreg&quot;</span>)</code></pre></div>
<p>We will run several regression models with the Duncan data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Prestige &lt;-<span class="st"> </span>car<span class="op">::</span>Prestige</code></pre></div>
<p>Since I’m running several regressions, I will save them to a list. If you know that you will be creating multiple objects, and programming with them, always put them in a list.</p>
<p>First, create a list of the regression formulas,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">formulae &lt;-<span class="st"> </span><span class="kw">list</span>(
  prestige <span class="op">~</span><span class="st"> </span>type,
  prestige <span class="op">~</span><span class="st"> </span>income,
  prestige <span class="op">~</span><span class="st"> </span>education,
  prestige <span class="op">~</span><span class="st"> </span>type <span class="op">+</span><span class="st"> </span>education <span class="op">+</span><span class="st"> </span>income
)</code></pre></div>
<p>Write a function to run a single model, Now use <code>map</code> to run a regression with each of these formulae, and save them to a list,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">prestige_mods &lt;-<span class="st"> </span><span class="kw">map</span>(formulae, <span class="op">~</span><span class="st"> </span><span class="kw">lm</span>(.x, <span class="dt">data =</span> Prestige, <span class="dt">model =</span> <span class="ot">FALSE</span>))</code></pre></div>
<p>This is a list of <code>lm</code> objects,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">map</span>(prestige_mods, class)</code></pre></div>
<pre><code>## [[1]]
## [1] &quot;lm&quot;
## 
## [[2]]
## [1] &quot;lm&quot;
## 
## [[3]]
## [1] &quot;lm&quot;
## 
## [[4]]
## [1] &quot;lm&quot;</code></pre>
<p>We can look at the first model,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">prestige_mods[[<span class="dv">1</span>]]</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = .x, data = Prestige, model = FALSE)
## 
## Coefficients:
## (Intercept)     typeprof       typewc  
##      35.527       32.321        6.716</code></pre>
<p>Now we can format the regression table in HTML using <code>htmlreg</code>. The first argument of <code>htmlreg</code> is a list of models:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">htmlreg</span>(prestige_mods)</code></pre></div>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<table cellspacing="0" align="center" style="border: none;">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 2</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 3</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 4</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Intercept)
</td>
<td style="padding-right: 12px; border: none;">
35.53<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
27.14<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
-10.73<sup style="vertical-align: 0px;">**</sup>
</td>
<td style="padding-right: 12px; border: none;">
-0.62
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(1.43)
</td>
<td style="padding-right: 12px; border: none;">
(2.27)
</td>
<td style="padding-right: 12px; border: none;">
(3.68)
</td>
<td style="padding-right: 12px; border: none;">
(5.23)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
typeprof
</td>
<td style="padding-right: 12px; border: none;">
32.32<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
6.04
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.23)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(3.87)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
typewc
</td>
<td style="padding-right: 12px; border: none;">
6.72<sup style="vertical-align: 0px;">**</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-2.74
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.44)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.51)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
income
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00<sup style="vertical-align: 0px;">***</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
education
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
5.36<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
3.67<sup style="vertical-align: 0px;">***</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.33)
</td>
<td style="padding-right: 12px; border: none;">
(0.64)
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.70
</td>
<td style="border-top: 1px solid black;">
0.51
</td>
<td style="border-top: 1px solid black;">
0.72
</td>
<td style="border-top: 1px solid black;">
0.83
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.69
</td>
<td style="padding-right: 12px; border: none;">
0.51
</td>
<td style="padding-right: 12px; border: none;">
0.72
</td>
<td style="padding-right: 12px; border: none;">
0.83
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Num. obs.
</td>
<td style="padding-right: 12px; border: none;">
98
</td>
<td style="padding-right: 12px; border: none;">
102
</td>
<td style="padding-right: 12px; border: none;">
102
</td>
<td style="padding-right: 12px; border: none;">
98
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
RMSE
</td>
<td style="border-bottom: 2px solid black;">
9.50
</td>
<td style="border-bottom: 2px solid black;">
12.09
</td>
<td style="border-bottom: 2px solid black;">
9.10
</td>
<td style="border-bottom: 2px solid black;">
7.09
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="6">
<span style="font-size:0.8em"><sup style="vertical-align: 0px;"><em><strong></sup>p &lt; 0.001, <sup style="vertical-align: 0px;"></strong></sup>p &lt; 0.01, <sup style="vertical-align: 0px;"></em></sup>p &lt; 0.05</span>
</td>
</tr>
</table>
<p>By default, <code>htmlreg()</code> prints out HTML, which is exactly what I want in an R markdown document. To save the output to a file, specify a non-null <code>file</code> argument. For example, to save the table to the file <code>prestige.html</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">htmlreg</span>(prestige_mods, <span class="dt">file =</span> <span class="st">&quot;prestige.html&quot;</span>)</code></pre></div>
<p>Since this function outputs HTML directly to the console, it can be hard to tell what’s going on. If you want to preview the table in RStudio while working on it, this snippet of code uses <strong><a href="https://cran.r-project.org/package=htmltools">htmltools</a></strong> package to do so:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;htmltools&quot;</span>)
<span class="kw">htmlreg</span>(prestige_mods) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">HTML</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">browsable</span>()</code></pre></div>
<p>The <code>htmlreg</code> function has many options to adjust the table formatting. Below, I clean up the table.</p>
<ul>
<li>I remove stars using <code>stars = NULL</code>. It is a growing convention to avoid the use of stars indicating significance in regression tables (see <em>AJPS</em> and <em>Political Analysis</em> guidelines).</li>
<li>The arguments <code>doctype</code>, <code>html.tag</code>, <code>head.tag</code>, <code>body.tag</code> control what sort of HTML is created. Generally all these functions (whether LaTeX or HTML output) have some arguments that determine whether it is creating a standalone, complete document, or a fragment that will be copied into another dcoument.</li>
<li>The arguments <code>include.rsquared</code>, <code>include.adjrs</code>, and <code>include.nobs</code> are passed to the function <code>extract()</code> which determines what information the <code>texreg</code> package extracts from a model to put into the table. I get rid of <span class="math inline">\(R^2\)</span>, but keep adjusted <span class="math inline">\(R^2\)</span>, and the number of observations.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;stringr&quot;</span>)
coefnames &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;(Intercept)&quot;</span>,
               <span class="st">&quot;Professional&quot;</span>,
               <span class="st">&quot;Working Class&quot;</span>,
               <span class="st">&quot;Income&quot;</span>, 
               <span class="st">&quot;Education&quot;</span>)
note &lt;-<span class="st"> &quot;OLS regressions with prestige as the response variable.&quot;</span>
<span class="kw">htmlreg</span>(prestige_mods, <span class="dt">stars =</span> <span class="ot">NULL</span>,
        <span class="dt">custom.model.names =</span> <span class="kw">str_c</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">seq_along</span>(prestige_mods), <span class="st">&quot;)&quot;</span>),
        <span class="dt">omit.coef =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">(Intercept</span><span class="ch">\\</span><span class="st">)&quot;</span>,
        <span class="dt">custom.coef.names =</span> coefnames,
        <span class="dt">custom.note =</span> <span class="kw">str_c</span>(<span class="st">&quot;Note: &quot;</span>, note),
        <span class="dt">caption.above =</span> <span class="ot">TRUE</span>,
        <span class="dt">caption =</span> <span class="st">&quot;Regressions of Occupational Prestige&quot;</span>,
        <span class="co"># better for markdown</span>
        <span class="dt">doctype =</span> <span class="ot">FALSE</span>,
        <span class="dt">html.tag =</span> <span class="ot">FALSE</span>,
        <span class="dt">head.tag =</span> <span class="ot">FALSE</span>,
        <span class="dt">body.tag =</span> <span class="ot">FALSE</span>, 
        <span class="co"># passed to extract() method for &quot;lm&quot;</span>
        <span class="dt">include.adjr =</span> <span class="ot">TRUE</span>,
        <span class="dt">include.rsquared =</span> <span class="ot">FALSE</span>,
        <span class="dt">include.rmse =</span> <span class="ot">FALSE</span>,
        <span class="dt">include.nobs =</span> <span class="ot">TRUE</span>)</code></pre></div>
<table cellspacing="0" align="center" style="border: none;">
<caption align="top" style="margin-bottom:0.3em;">
Regressions of Occupational Prestige
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(1)</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(2)</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(3)</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(4)</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Professional
</td>
<td style="padding-right: 12px; border: none;">
32.32
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
6.04
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.23)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(3.87)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Working Class
</td>
<td style="padding-right: 12px; border: none;">
6.72
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-2.74
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.44)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.51)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Income
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Education
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
5.36
</td>
<td style="padding-right: 12px; border: none;">
3.67
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.33)
</td>
<td style="padding-right: 12px; border: none;">
(0.64)
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.69
</td>
<td style="border-top: 1px solid black;">
0.51
</td>
<td style="border-top: 1px solid black;">
0.72
</td>
<td style="border-top: 1px solid black;">
0.83
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
Num. obs.
</td>
<td style="border-bottom: 2px solid black;">
98
</td>
<td style="border-bottom: 2px solid black;">
102
</td>
<td style="border-bottom: 2px solid black;">
102
</td>
<td style="border-bottom: 2px solid black;">
98
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="6">
<span style="font-size:0.8em">Note: OLS regressions with prestige as the response variable.</span>
</td>
</tr>
</table>
<p>Once you find a set of options that are common across your tables, make a function so you con’t need to retype them.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_reg_table &lt;-<span class="st"> </span><span class="cf">function</span>(mods, ..., <span class="dt">note =</span> <span class="ot">NULL</span>) {
  <span class="kw">htmlreg</span>(mods,
          <span class="dt">stars =</span> <span class="ot">NULL</span>,
          <span class="dt">custom.note =</span> <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(note)) <span class="kw">str_c</span>(<span class="st">&quot;Note: &quot;</span>, note) <span class="cf">else</span> <span class="ot">NULL</span>,
          <span class="dt">caption.above =</span> <span class="ot">TRUE</span>,
          <span class="co"># better for markdown</span>
          <span class="dt">doctype =</span> <span class="ot">FALSE</span>,
          <span class="dt">html.tag =</span> <span class="ot">FALSE</span>,
          <span class="dt">head.tag =</span> <span class="ot">FALSE</span>)       
}
<span class="kw">my_reg_table</span>(prestige_mods,
            <span class="dt">custom.model.names =</span> <span class="kw">str_c</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">seq_along</span>(prestige_mods), <span class="st">&quot;)&quot;</span>),
            <span class="dt">custom.coef.names =</span> coefnames,
            <span class="dt">note =</span> note,
            <span class="co"># put intercept at the bottom</span>
            <span class="dt">reorder.coef =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">1</span>),
            <span class="dt">caption =</span> <span class="st">&quot;Regressions of Occupational Prestige&quot;</span>)</code></pre></div>
<table cellspacing="0" align="center" style="border: none;">
<caption align="top" style="margin-bottom:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 2</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 3</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 4</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Intercept)
</td>
<td style="padding-right: 12px; border: none;">
35.53
</td>
<td style="padding-right: 12px; border: none;">
27.14
</td>
<td style="padding-right: 12px; border: none;">
-10.73
</td>
<td style="padding-right: 12px; border: none;">
-0.62
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(1.43)
</td>
<td style="padding-right: 12px; border: none;">
(2.27)
</td>
<td style="padding-right: 12px; border: none;">
(3.68)
</td>
<td style="padding-right: 12px; border: none;">
(5.23)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
typeprof
</td>
<td style="padding-right: 12px; border: none;">
32.32
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
6.04
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.23)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(3.87)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
typewc
</td>
<td style="padding-right: 12px; border: none;">
6.72
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-2.74
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.44)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.51)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
income
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
education
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
5.36
</td>
<td style="padding-right: 12px; border: none;">
3.67
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.33)
</td>
<td style="padding-right: 12px; border: none;">
(0.64)
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.70
</td>
<td style="border-top: 1px solid black;">
0.51
</td>
<td style="border-top: 1px solid black;">
0.72
</td>
<td style="border-top: 1px solid black;">
0.83
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.69
</td>
<td style="padding-right: 12px; border: none;">
0.51
</td>
<td style="padding-right: 12px; border: none;">
0.72
</td>
<td style="padding-right: 12px; border: none;">
0.83
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Num. obs.
</td>
<td style="padding-right: 12px; border: none;">
98
</td>
<td style="padding-right: 12px; border: none;">
102
</td>
<td style="padding-right: 12px; border: none;">
102
</td>
<td style="padding-right: 12px; border: none;">
98
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
RMSE
</td>
<td style="border-bottom: 2px solid black;">
9.50
</td>
<td style="border-bottom: 2px solid black;">
12.09
</td>
<td style="border-bottom: 2px solid black;">
9.10
</td>
<td style="border-bottom: 2px solid black;">
7.09
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="6">
<span style="font-size:0.8em">Note: OLS regressions with prestige as the response variable.</span>
</td>
</tr>
</table>
<p>Note that I didn’t include every option in <code>my_reg_table</code>, only those arguments that will be common across tables. I use <code>...</code> to pass arguments to <code>htmlreg</code>. Then when I call <code>my_reg_table</code> the only arguments are those specific to the <em>content</em> of the table, not the formatting, making it easier to understand what each table is saying.</p>
<p>Of course, <code>texreg</code> also produces LaTeX output, with the function <a href="https://www.rdocumentation.org/packages/texreg/topics/texreg">texreg</a>. Almost all the options are the same as <code>htmlreg</code>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="duncan-occupational-prestige.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reproducible-research.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jrnold/intro-method-notes/edit/master/tables_and_plots.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
